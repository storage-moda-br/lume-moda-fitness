<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Painel – Lume Moda Fitness</title>
<link rel="preconnect" href="https://www.gstatic.com" crossorigin>
<style>
  :root{--ink:#111;--muted:#6b6b6b;--card:#fff;--bg:#f4f6f8;--ring:#e5e7eb}
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg)}
  header{padding:22px 16px;background:#000;color:#fff;text-align:center}
  h1{margin:0;font-size:18px;letter-spacing:.5px}
  .wrap{max-width:1100px;margin:16px auto;padding:12px}
  .grid{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:16px;
}

  .card{background:var(--card);border:1px solid var(--ring);border-radius:14px;overflow:hidden;cursor:pointer;box-shadow:0 1px 2px rgba(0,0,0,.04);transition:.15s transform}
  .card:active{transform:scale(.98)}
  .thumb{aspect-ratio:4/5;background:#fafafa;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .thumb img{
  width:100%;
  height:100%;
  object-fit:contain;
  background:#fff;
}

  .meta{padding:12px 12px 14px}
  .meta h3{margin:0 0 6px;font-size:15px;color:var(--ink);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .meta p{margin:0;color:var(--muted);font-size:12px}
  .skeleton{background:linear-gradient(90deg,#eee,#f5f5f5,#eee);background-size:200% 100%;animation:sh 1.2s linear infinite}
  @keyframes sh{to{background-position:-200% 0}}

  /* Mobile tweaks */
 /* MOBILE = sempre 2 colunas de cards pequenos */
@media(max-width:820px){
  .wrap{padding:8px}
  .grid{
    grid-template-columns:repeat(2,minmax(0,1fr));
    gap:10px;
  }
  .card{
    border-radius:14px;
  }
  .thumb{
    aspect-ratio:4/5;
  }
  .meta h3{
    font-size:13px;
  }
  .meta p{
    font-size:10px;
  }
}
.header{
  background:#000;
  color:#fff;
  width:100%;
  padding:14px 0 12px 0;
  text-align:center;
  border-radius:0 0 0 0;
  }

.header .logo{
  width:100px;
  height:100px;
  object-fit:contain;
  margin-bottom:4px;
}

.header h1{
  font-size:17px;
  font-weight:600;
  margin:0;
  letter-spacing:-0.2px;
}
/* ===== CABEÇALHO LUME MODA FITNESS ===== */
.lume-header {
  position: relative;
  background: linear-gradient(135deg, #000 0%, #222 40%, #420052 100%);
  color: #fff;
  padding: 24px 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  box-shadow: 0 3px 12px rgba(0,0,0,0.4);
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

/* leve textura de brilho */
.lume-header::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.08), transparent 60%);
  pointer-events: none;
}

.header-overlay {
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,0.03);
  backdrop-filter: blur(8px);
  z-index: 1;
}

.header-content {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  gap: 18px;
}

.lume-logo {
  height: 52px;
  width: auto;
  border-radius: 10px;
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.2));
}

.header-title h1 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 700;
  letter-spacing: 0.8px;
  text-transform: uppercase;
}

.header-title p {
  margin: 4px 0 0;
  font-size: 0.9rem;
  color: #ccc;
  letter-spacing: 0.3px;
}

/* responsivo */
@media (max-width:600px){
  .lume-header {
    flex-direction: column;
    padding: 18px;
  }
  .header-content {
    flex-direction: column;
    text-align: center;
  }
  .lume-logo {
    height: 46px;
  }
  .header-title h1 {
    font-size: 1.3rem;
  }
}






</style>
</head>
<body>

    <header class="lume-header">
  <div class="header-overlay"></div>
  <div class="header-content">
    <img src="https://i.imgur.com/dYmnA0X.png" alt="Lume Moda Fitness" class="lume-logo">
    <div class="header-title">
      <h1>Painel de Produtos</h1>
      <p>Lume Moda Fitness</p>
    </div>
  </div>
</header>
<div class="wrap">
  <div id="grid" class="grid"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBzzYviQCkPUeRSCMZ-sxJiQlKGgUFy8xk",
  authDomain: "lume-moda-fitness.firebaseapp.com",
  projectId: "lume-moda-fitness",
  storageBucket: "lume-moda-fitness.appspot.com",
  messagingSenderId: "485446426887",
  appId: "1:485446426887:web:93ba7f4b9d4f199af7e5a2"
};

const app = initializeApp(firebaseConfig);
/* ⚠️ importante: usa o databaseId "firestore" (o segundo DB do seu projeto) */
const db  = getFirestore(app, "firestore");

const ids = Array.from({length:16}, (_,i)=>`produto${String(i+1).padStart(2,"0")}`);
const grid = document.getElementById('grid');

/* esqueleto enquanto carrega */
ids.forEach(id=>{
  const c = document.createElement('div');
  c.className = 'card';
  c.innerHTML = `
    <div class="thumb skeleton"></div>
    <div class="meta">
      <h3 class="skeleton" style="height:16px;border-radius:6px"></h3>
      <p>${id}</p>
    </div>`;
  grid.appendChild(c);
});

async function load(){
  grid.innerHTML = '';
  for (const id of ids){
    try{
      const ref = doc(db,'produtos', id);
      const snap = await getDoc(ref);
      const data = snap.exists() ? snap.data() : {};
      const nome = data.nome || '(sem nome)';

      // SE TIVER FOTO
      let thumbHTML = '';
      if(data.imagem){
        thumbHTML = `<img src="${data.imagem}" alt="${nome}">`;
      } else {
        // SEM FOTO → bloco cinza
        thumbHTML = `<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#999;font-size:12px;font-weight:500">sem imagem</div>`;
      }

      const card = document.createElement('div');
      card.className = 'card';
      card.onclick = ()=> location.href = `editor.html?pid=${encodeURIComponent(id)}`;

      card.innerHTML = `
        <div class="thumb">${thumbHTML}</div>
        <div class="meta">
          <h3>${nome}</h3>
          <p>${id}</p>
        </div>`;

      grid.appendChild(card);

    }catch(e){
      console.error('Erro produto', id, e);
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="thumb"><div class="skeleton" style="width:100%;height:100%"></div></div>
        <div class="meta">
          <h3>Erro ao carregar</h3>
          <p>${id}</p>
        </div>`;
      grid.appendChild(card);
    }
  }
}
load();

</script>
</body>
</html>
